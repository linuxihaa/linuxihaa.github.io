<!DOCTYPE html><html lang="fa"><head><link rel="manifest" href="/manifest.json"/><link rel="apple-touch-icon" href="/icon-512x512.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link href="//db.onlinewebfonts.com/c/14b4bf4df4455e6a1277f2b2584dadd6?family=BBCNassim" rel="stylesheet" type="text/css"/><meta name="msapplication-TileColor" content="#ce1919"/><meta name="theme-color" content="#ce1919"/><meta charSet="utf-8"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@handle"/><meta property="og:type" content="website"/><meta property="og:locale" content="fa_IR"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>راه اندازی DNS Server لینوکس</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="آموزش راه اندازی DNS Server لینوکس"/><meta property="og:url" content="/articles/[slug]"/><meta property="og:title" content="راه اندازی DNS Server لینوکس"/><meta property="og:description" content="آموزش راه اندازی DNS Server لینوکس"/><meta property="og:image" content="https://linuxiha.com/images/dns-server-linux.jpg"/><meta property="og:image:alt" content="راه اندازی DNS Server لینوکس"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:site_name" content="Linuxiha"/><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://linuxiha.com/articles/2016-08-04_linux-setup-dns-server"
    },
    "headline": "راه اندازی DNS Server لینوکس",
    "image": [
      "https://linuxiha.com/images/dns-server-linux.jpg"
     ],
    "datePublished": "Thu Aug 04 2016 00:00:00 GMT+0000",
    "dateModified": "Thu Aug 04 2016 00:00:00 GMT+0000",
    "author": {"@type": "Person","name": "رضا معصوم‌وند"},
    "publisher": {
      "@type": "Organization",
      "name": "Linuxiha",
      "logo": {
        "@type": "ImageObject",
        "url": "https://linuxiha.com/images/logo.png"
      }
    },
    "description": "آموزش راه اندازی DNS Server لینوکس"
  }</script><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://linuxiha.com",
          "name": "لینوکسی ها"
        }
      },{
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@id": "/learning",
          "name": "آموزشی"
        }
      },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https://linuxiha.com/articles/2016-08-04_linux-setup-dns-server",
          "name": "راه اندازی DNS Server لینوکس"
        }
      }
     ]
  }</script><meta name="next-head-count" content="21"/><link rel="preload" href="/_next/static/css/be235685d546691402be.css" as="style"/><link rel="stylesheet" href="/_next/static/css/be235685d546691402be.css" data-n-g=""/><link rel="preload" href="/_next/static/css/d4b1ad855d90d489a111.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d4b1ad855d90d489a111.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.f8bd46fc02868c500bda.js" as="script"/><link rel="preload" href="/_next/static/chunks/dccdaae97238514e0e59f68ff40a3150f2d60869.fd7c33e9ae3c66b740c3.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-3c19994afb449613f52a.js" as="script"/><link rel="preload" href="/_next/static/chunks/c18007ee4e366b206423f37b43f40d4861448257.6ad75590f65d0a64ea61.js" as="script"/><link rel="preload" href="/_next/static/chunks/9f32a1895f4aacf1ea63ff9f71a540b7eb71f721.c3d97f18e04e41235ad9.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-5e768503c47f0f474cf1.js" as="script"/><link rel="preload" href="/_next/static/chunks/884c0b09aaba7d8da8976f96bae68463b81d3e33.69e17f26dc467dcd1735.js" as="script"/><link rel="preload" href="/_next/static/chunks/755b54d753eea6c310ec0b9a05508d467366a08f.dd8ff6ba50741b700375.js" as="script"/><link rel="preload" href="/_next/static/chunks/6b20a07b2d70cfcb2a9bc7e0210d4109f26bcd0c.6ef66b02a65441044c74.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bslug%5D-8dd97a7322e8b3511971.js" as="script"/></head><body dir="rtl" lang="fa"><div id="__next"><header class="header_container__2boq4"><h2></h2><nav class="header_navbar__3Tbm7"><a href="/">خانه</a><a href="/news">خبری</a><a href="/learning">آموزشی</a><a href="/about">درباره ما</a></nav><figure class="header_logo__ZHkcG"><img src="/images/logo.png" alt="linuxiha-logo"/></figure></header><div class="MuiPaper-root article_article__15ETi MuiPaper-elevation1 MuiPaper-rounded"><img src="/images/dns-server-linux.jpg" alt="راه اندازی DNS Server لینوکس"/><h1>راه اندازی DNS Server لینوکس</h1><div class="MuiCardHeader-root"><div class="MuiCardHeader-avatar"><div class="MuiAvatar-root MuiAvatar-circle article_avatar__2QXuX" aria-label="article"><img alt="رضا معصوم‌وند" src="authors/user.png" class="MuiAvatar-img"/></div></div><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-body2 MuiTypography-displayBlock">رضا معصوم‌وند</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-displayBlock">۴ سال قبل - زمان خواندن ۵ دقیقه</span></div></div><section class="article_content__1mHP3"><p>همان‌طور که می‌دانید زمانی که می‌خواهید وارد وبسایتی شوید برای مراجعه می‌بایست آدرس سرویس‌دهنده آن وب سایت را بدانید که با آدرس آی‌پی (IP Address) مشخص می‌شود. از آنجایی که به‌خاطر سپردن آدرس‌های IP برای تمامی وب‌سایت‌ها کاری دشوار و تقریباً غیر ممکن است می‌توانیم به‌جای وارد نمودن آدرس IP از سرویس نام دامنه یا همان DNS استفاده کنیم. توسط این سرویس نام‌های دامنه به آدرس‌های آی‌پی ترجمه می‌شوند.</p>
<p>در این آموزش به نحوه نصب و راه اندازی سرویس دهنده معروف <code></code> در لینوکس خواهیم پرداخت.</p>
<p>ابتدا توسط دستور زیر سرویس دهنده bind را نصب می‌کنیم.</p>
<ul>
<li>برای سیستم‌های مبتنی بر دبیان:</li>
</ul>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo apt install bind9  </span></code></pre></pre>
<ul>
<li>برای سیستم‌های مبتنی بر ردهت:</li>
</ul>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo yum install bind  </span></code></pre></pre>
<p>سپس برای تعریف یک <code></code>، می‌بایست فایل زیر را ویرایش کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo nano /etc/bind/named.conf.local  </span></code></pre></pre>
<p>و خطوط زیر را به آن اضافه می‌کنیم.</p>
<pre><code></code></pre>
<p>که در اینجا نام دامنه ما <code></code> و از نوع <code></code> است.</p>
<p>سپس می‌بایست یک zone فایل برای دامنه مورد نظرمان ایجاد کنیم. برای این کار به‌صورت زیر عمل می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cd /etc/bind  
</span>cp db.empty db.linuxihaa.ir  
</code></pre></pre>
<p>و فایل ایجاد شده را توسط یک ویرایشگر متنی ویرایش می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo nano /etc/bind/db.linuxiha.ir  </span></code></pre></pre>
<p>که در ابتدا محتویات فایل فوق بصورت زیر خواهد بود.</p>
<pre><code></code></pre>
<p>که می‌بایست به‌جای <code></code> نام دامنه مورد نظرمان را اضافه کنیم.</p>
<pre><code></code></pre>
<p>که در اینجا <code></code> نام دامنه مورد نظر ما و <code></code> آدرس ایمیل مدیر سیستم است.</p>
<p>پس از اعمال تغییرات فوق می‌بایست رکوردهای مربوط به هاست‌های مورد نظرمان را به انتهای فایل، به‌صورت زیر اضافه کنیم.</p>
<pre><code></code></pre>
<p>که در مثال فوق در خط چهارم آدرس یک وب سرور را مشخص نمودیم که در‌واقع یک نام مستعار به آدرس <code></code> است.</p>
<p>همچنین در خطوط پنجم و ششم دو هاست به آدرس‌های <code></code> و <code></code> تعریف نمودیم.</p>
<p>پس از ویرایش و ذخیره فایل فوق می‌بایست صحت اطلاعات وارد شده را توسط ابزار <code></code> به‌صورت زیر بررسی کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>named-checkzone linuxihaa.ir /etc/bind/db.linuxihaa.ir  </span></code></pre></pre>
<p>پس از اجرای دستور فوق و در صورت نداشتن مشکل برنامه خروجی زیر را نمایش خواهد داد.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>zone linuxihaa.ir/IN: loaded serial 1  
</span>OK  
</code></pre></pre>
<p>سپس جهت راه اندازی مجدد bind دستور زیر را وارد می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo systemctl restart bind9  </span></code></pre></pre>
<p>جهت تست سرویس دهنده می‌توانیم از دستور <code></code> به‌صورت زیر استفاده کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>dig @104.28.12.99 [www.linuxihaa.ir](http://www.linuxihaa.ir/)  </span></code></pre></pre>
<ul>
<li>  نکته: برای استفاده از دستور dig می بایست بسته <code></code> را نصب کنید.</li>
</ul></section><div class="progress_root__2VpcX"><div class="MuiLinearProgress-root MuiLinearProgress-colorPrimary MuiLinearProgress-determinate" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><div class="MuiLinearProgress-bar MuiLinearProgress-barColorPrimary MuiLinearProgress-bar1Determinate" style="transform:translateX(100%)"></div></div></div></div><nav id="navbar" class="menu_menu-container__3W1os"><a class="menu_menu-item__2FGZV" href="/"><img src="/icons/home.png" alt="home"/> <span>خانه</span> <aside></aside></a><a class="menu_menu-item__2FGZV" href="/news"><img src="/icons/news.png" alt="news"/> <span>خبری</span> <aside></aside></a><a class="menu_menu-item__2FGZV" href="/learning"><img src="/icons/article.png" alt="article"/> <span>آموزشی</span> <aside></aside></a><a class="menu_menu-item__2FGZV" href="/about"><img src="/icons/info.png" alt="info"/> <span>درباره ما</span> <aside></aside></a></nav></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"page":{"slug":"2016-08-04_linux-setup-dns-server","layout":"post","jdate":"Thu Aug 04 2016 00:00:00 GMT+0000","user":"rmasoumvand","title":"راه اندازی DNS Server لینوکس","categories":["آموزشی"],"tags":["شبکه","سرور"],"featured":"dns-server-linux.jpg","keywords":["dns server لینوکس","bind9"],"description":"آموزش راه اندازی DNS Server لینوکس","timeToRead":5,"content":"\nهمان‌طور که می‌دانید زمانی که می‌خواهید وارد وبسایتی شوید برای مراجعه می‌بایست آدرس سرویس‌دهنده آن وب سایت را بدانید که با آدرس آی‌پی (IP Address) مشخص می‌شود. از آنجایی که به‌خاطر سپردن آدرس‌های IP برای تمامی وب‌سایت‌ها کاری دشوار و تقریباً غیر ممکن است می‌توانیم به‌جای وارد نمودن آدرس IP از سرویس نام دامنه یا همان DNS استفاده کنیم. توسط این سرویس نام‌های دامنه به آدرس‌های آی‌پی ترجمه می‌شوند.\n\nدر این آموزش به نحوه نصب و راه اندازی سرویس دهنده معروف `bind` در لینوکس خواهیم پرداخت.\n\nابتدا توسط دستور زیر سرویس دهنده bind را نصب می‌کنیم.\n\n- برای سیستم‌های مبتنی بر دبیان:\n\n```sh  \nsudo apt install bind9  \n```\n\n- برای سیستم‌های مبتنی بر ردهت:\n\n```sh  \nsudo yum install bind  \n```\n\nسپس برای تعریف یک `zone`، می‌بایست فایل زیر را ویرایش کنیم.\n\n```sh  \nsudo nano /etc/bind/named.conf.local  \n```\n\nو خطوط زیر را به آن اضافه می‌کنیم.\n\n```  \nzone “linuxihaa.ir” {  \n    type master;  \n    file “/etc/bind/db.linuxihaa.ir”;  \n};  \n```\n\nکه در اینجا نام دامنه ما `linuxihaa.ir` و از نوع `master` است.\n\nسپس می‌بایست یک zone فایل برای دامنه مورد نظرمان ایجاد کنیم. برای این کار به‌صورت زیر عمل می‌کنیم.\n\n```sh  \ncd /etc/bind  \ncp db.empty db.linuxihaa.ir  \n```\n\nو فایل ایجاد شده را توسط یک ویرایشگر متنی ویرایش می‌کنیم.\n\n```sh  \nsudo nano /etc/bind/db.linuxiha.ir  \n```\n\nکه در ابتدا محتویات فایل فوق بصورت زیر خواهد بود.\n\n```  \n$TTL 86400\n\n@ IN SOA localhost. root.localhost. (  \n    1 ; Serial  \n    604800 ; Refresh  \n    86400 ; Retry  \n    2419200 ; Expire  \n    86400 ) ; Negative Cache TTL  \n;  \n@ IN NS localhost.  \n```\n\nکه می‌بایست به‌جای `localhost` نام دامنه مورد نظرمان را اضافه کنیم.\n\n```  \n$TTL 86400\n\n@ IN SOA linuxihaa.ir. admin.linuxihaa.ir. (  \n    1 ; Serial  \n    604800 ; Refresh  \n    86400 ; Retry  \n    2419200 ; Expire  \n    86400 ) ; Negative Cache TTL  \n;\n\n@ IN NS linuxihaa.ir.  \n```\n\nکه در اینجا `linuxihaa.ir.` نام دامنه مورد نظر ما و `admin.linuxihaa.ir.` آدرس ایمیل مدیر سیستم است.\n\nپس از اعمال تغییرات فوق می‌بایست رکوردهای مربوط به هاست‌های مورد نظرمان را به انتهای فایل، به‌صورت زیر اضافه کنیم.\n\n```  \nns IN A 104.28.12.99\n\nlinuxihaa.ir. A 104.28.12.99  \nwww CNAME linuxihaa.ir.  \nhost1 A 104.28.12.199  \nhost2 A 104.28.12.200  \n```\n\nکه در مثال فوق در خط چهارم آدرس یک وب سرور را مشخص نمودیم که در‌واقع یک نام مستعار به آدرس `linuxihaa.ir` است.\n\nهمچنین در خطوط پنجم و ششم دو هاست به آدرس‌های `host1.linuxihaa.ir` و `host2.linuxihaa.ir` تعریف نمودیم.\n\nپس از ویرایش و ذخیره فایل فوق می‌بایست صحت اطلاعات وارد شده را توسط ابزار `named-checkzone` به‌صورت زیر بررسی کنیم.\n\n```sh  \nnamed-checkzone linuxihaa.ir /etc/bind/db.linuxihaa.ir  \n```\n\nپس از اجرای دستور فوق و در صورت نداشتن مشکل برنامه خروجی زیر را نمایش خواهد داد.\n\n```sh  \nzone linuxihaa.ir/IN: loaded serial 1  \nOK  \n```\n\nسپس جهت راه اندازی مجدد bind دستور زیر را وارد می‌کنیم.\n\n```sh  \nsudo systemctl restart bind9  \n```\n\nجهت تست سرویس دهنده می‌توانیم از دستور `dig` به‌صورت زیر استفاده کنیم.\n\n```sh  \ndig @104.28.12.99 [www.linuxihaa.ir](http://www.linuxihaa.ir/)  \n```\n\n*   نکته: برای استفاده از دستور dig می بایست بسته `dnsutils` را نصب کنید.\n"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"2016-08-04_linux-setup-dns-server"},"buildId":"igqXl2OPJ05s2tPs4MQMK","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-e893e522365b6e0e5fa4.js"></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.f8bd46fc02868c500bda.js" async=""></script><script src="/_next/static/chunks/dccdaae97238514e0e59f68ff40a3150f2d60869.fd7c33e9ae3c66b740c3.js" async=""></script><script src="/_next/static/chunks/main-3c19994afb449613f52a.js" async=""></script><script src="/_next/static/chunks/c18007ee4e366b206423f37b43f40d4861448257.6ad75590f65d0a64ea61.js" async=""></script><script src="/_next/static/chunks/9f32a1895f4aacf1ea63ff9f71a540b7eb71f721.c3d97f18e04e41235ad9.js" async=""></script><script src="/_next/static/chunks/pages/_app-5e768503c47f0f474cf1.js" async=""></script><script src="/_next/static/chunks/884c0b09aaba7d8da8976f96bae68463b81d3e33.69e17f26dc467dcd1735.js" async=""></script><script src="/_next/static/chunks/755b54d753eea6c310ec0b9a05508d467366a08f.dd8ff6ba50741b700375.js" async=""></script><script src="/_next/static/chunks/6b20a07b2d70cfcb2a9bc7e0210d4109f26bcd0c.6ef66b02a65441044c74.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-8dd97a7322e8b3511971.js" async=""></script><script src="/_next/static/igqXl2OPJ05s2tPs4MQMK/_buildManifest.js" async=""></script><script src="/_next/static/igqXl2OPJ05s2tPs4MQMK/_ssgManifest.js" async=""></script></body></html>