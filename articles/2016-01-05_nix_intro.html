<!DOCTYPE html><html lang="fa"><head><link rel="manifest" href="/manifest.json"/><link rel="apple-touch-icon" href="/icon-512x512.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link href="//db.onlinewebfonts.com/c/14b4bf4df4455e6a1277f2b2584dadd6?family=BBCNassim" rel="stylesheet" type="text/css"/><meta name="msapplication-TileColor" content="#ce1919"/><meta name="theme-color" content="#ce1919"/><meta charSet="utf-8"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@handle"/><meta property="og:type" content="website"/><meta property="og:locale" content="fa_IR"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>مدیر بسته nix مدیر بسته‌ای متفاوت</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="معرفی مدیربسته nix"/><meta property="og:url" content="/articles/[slug]"/><meta property="og:title" content="مدیر بسته nix مدیر بسته‌ای متفاوت"/><meta property="og:description" content="معرفی مدیربسته nix"/><meta property="og:image" content="https://linuxiha.com/images/nixos-logo-only-hires.png"/><meta property="og:image:alt" content="مدیر بسته nix مدیر بسته‌ای متفاوت"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:site_name" content="Linuxiha"/><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://linuxiha.com/articles/2016-01-05_nix_intro"
    },
    "headline": "مدیر بسته nix مدیر بسته‌ای متفاوت",
    "image": [
      "https://linuxiha.com/images/nixos-logo-only-hires.png"
     ],
    "datePublished": "Tue Jan 05 2016 00:00:00 GMT+0000",
    "dateModified": "Tue Jan 05 2016 00:00:00 GMT+0000",
    "author": {"@type": "Person","name": "امین خزاعی"},
    "publisher": {
      "@type": "Organization",
      "name": "Linuxiha",
      "logo": {
        "@type": "ImageObject",
        "url": "https://linuxiha.com/images/logo.png"
      }
    },
    "description": "معرفی مدیربسته nix"
  }</script><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://linuxiha.com",
          "name": "لینوکسی ها"
        }
      },{
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@id": "/learning",
          "name": "آموزشی"
        }
      },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https://linuxiha.com/articles/2016-01-05_nix_intro",
          "name": "مدیر بسته nix مدیر بسته‌ای متفاوت"
        }
      }
     ]
  }</script><meta name="next-head-count" content="21"/><link rel="preload" href="/_next/static/css/be235685d546691402be.css" as="style"/><link rel="stylesheet" href="/_next/static/css/be235685d546691402be.css" data-n-g=""/><link rel="preload" href="/_next/static/css/d4b1ad855d90d489a111.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d4b1ad855d90d489a111.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.f8bd46fc02868c500bda.js" as="script"/><link rel="preload" href="/_next/static/chunks/dccdaae97238514e0e59f68ff40a3150f2d60869.fd7c33e9ae3c66b740c3.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-3c19994afb449613f52a.js" as="script"/><link rel="preload" href="/_next/static/chunks/c18007ee4e366b206423f37b43f40d4861448257.6ad75590f65d0a64ea61.js" as="script"/><link rel="preload" href="/_next/static/chunks/9f32a1895f4aacf1ea63ff9f71a540b7eb71f721.c3d97f18e04e41235ad9.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-5e768503c47f0f474cf1.js" as="script"/><link rel="preload" href="/_next/static/chunks/884c0b09aaba7d8da8976f96bae68463b81d3e33.69e17f26dc467dcd1735.js" as="script"/><link rel="preload" href="/_next/static/chunks/755b54d753eea6c310ec0b9a05508d467366a08f.dd8ff6ba50741b700375.js" as="script"/><link rel="preload" href="/_next/static/chunks/6b20a07b2d70cfcb2a9bc7e0210d4109f26bcd0c.6ef66b02a65441044c74.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bslug%5D-8dd97a7322e8b3511971.js" as="script"/></head><body dir="rtl" lang="fa"><div id="__next"><header class="header_container__2boq4"><h2></h2><nav class="header_navbar__3Tbm7"><a href="/">خانه</a><a href="/news">خبری</a><a href="/learning">آموزشی</a><a href="/about">درباره ما</a></nav><figure class="header_logo__ZHkcG"><img src="/images/logo.png" alt="linuxiha-logo"/></figure></header><div class="MuiPaper-root article_article__15ETi MuiPaper-elevation1 MuiPaper-rounded"><img src="/images/nixos-logo-only-hires.png" alt="مدیر بسته nix مدیر بسته‌ای متفاوت"/><h1>مدیر بسته nix مدیر بسته‌ای متفاوت</h1><div class="MuiCardHeader-root"><div class="MuiCardHeader-avatar"><div class="MuiAvatar-root MuiAvatar-circle article_avatar__2QXuX" aria-label="article"><img alt="امین خزاعی" src="authors/user.png" class="MuiAvatar-img"/></div></div><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-body2 MuiTypography-displayBlock">امین خزاعی</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-displayBlock">۵ سال قبل - زمان خواندن ۵ دقیقه</span></div></div><section class="article_content__1mHP3"><p>اگر با توزیع‌های لینوکس کار کرده باشید حتما دیدید که هر کدام یک مدیر بسته نرم‌افزاری (package manager) دارند که برای نصب نرم‌افزار از آن‌ها استفاده می‌کنید (مثل apt-get، yum، pacman، emerge و ...). اما مدیر بسته nix که به صورت پیش‌فرض بر روی NixOS نصب است چیزی فراتر از یک مدیر بسته است. زیرا در توزیع NixOS علاوه بر نصب نرم‌افزار، کار تنظیمات سیستم را نیز بر عهده می‌گیرد.</p>
<p>در واقع مدیر بسته nix دارای یک زبان nix build language است که یک زبان functional محسوب می‌شود. توسط این زبان تنظیمات سیستم از تنظیمات هسته گرفته تا تنظیمات مربوط به نرم‌افزارهایی مانند openssh، nginx و حتی تنظمیات بوت و گراب همه و همه توسط زبان nix و در فایلی که به اسم configuration.nix هست نوشته می‌شود. این فایل در توزیع NixOS در آدرس <code></code> وجود دارد، با تغییر دادن این فایل و سپس اجرای دستور زیر کل سیستم بر اساس آن ساخته می‌شود و NixOS بدون در نظر گرفتن اینکه قبلا چه چیزی نصب بوده  و یا چه تنظیماتی بر روی سیستم فعال بوده سیستم جدید را می‌سازد و اگر نرم‌افزاری وجود نداشته باشد آن را نصب می‌کند.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ nixos-rebuild switch</span></code></pre></pre>
<p>مدیر بسته nix در NixOS تمامی تنظیمات قبلی را نگاه می‌دارد و در صورتی که شما به هر دلیلی پس از انجام تنظیمات جدید، از آن خوشتان نیامد به راحتی و به سرعت می‌توانید تنظیمات را به حالت قبل بازگردانید. این کار توسط دستور زیر انجام می‌گیرد.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ nixos-rebuild switch --rollback</span></code></pre></pre>
<p>با این کار در منوی گراب شما تمامی تنظیمات قبل آورده می‌شود و می‌توانید از بین آن‌ها انتخاب کنبد.</p>
<p>علاوه بر این خصوصیات مدیر بسته nix این امکان را می‌دهد که هر کاربر پروفایل مربوط به خود را داشته باشد که از پروفایل بقیه کاربران مجزاست می‌تواند ورژن‌های مختلفی از یک نرم‌افزار را نسبت به کاربری دیگر داشته باشد. به عبارتی دیگر openssh-4.6 برای پروفایل اول و openssh-5.2 برای پروفایل دوم نصب باشد. اما چنین چیزی چطور ممکن است؟ همان طور که می‌دانید بعد از نصب یک نرم‌افزار در لینوکس دایرکتوری به اسم آن نرم ‌افزار ایجاد می‌شود و اگر ورژن جدید آن نرم‌افزار را نصب کنید ورژن قبلی پاک می‌شود. مدیر بسته nix این مشکل را با قرار دادن یک hashing scheme قبل از اسم نرم‌افزار دایرکتوری با نام یکتا ایجاد می‌کند و در نتیجه دو ورژن مختلف یک نرم‌افزار در یک دایرکتوری قرار نمی‌گیرند و می‌توان در یک سیستم چندین ورژن از یک نرم‌افزار را توسط nix نصب کرد.</p>
<p>علاوه بر تمامی این خصوصیات nix به صورت portable ساخته شده، به این معنی که شما nix را می‌توانید در تمامی توزیع‌های لینوکس و حتی بر روی MacOSX و با روش‌هایی روی ویندوز و freebsd نیز نصب کنید، زیرا nix کاملا مستقل از سیستم شما عمل می‌کند.</p>
<p>سایت توزیع  <a href="http://nixos.org/">nixos.org</a></p></section><div class="progress_root__2VpcX"><div class="MuiLinearProgress-root MuiLinearProgress-colorPrimary MuiLinearProgress-determinate" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><div class="MuiLinearProgress-bar MuiLinearProgress-barColorPrimary MuiLinearProgress-bar1Determinate" style="transform:translateX(100%)"></div></div></div></div><nav id="navbar" class="menu_menu-container__3W1os"><a class="menu_menu-item__2FGZV" href="/"><img src="/icons/home.png" alt="home"/> <span>خانه</span> <aside></aside></a><a class="menu_menu-item__2FGZV" href="/news"><img src="/icons/news.png" alt="news"/> <span>خبری</span> <aside></aside></a><a class="menu_menu-item__2FGZV" href="/learning"><img src="/icons/article.png" alt="article"/> <span>آموزشی</span> <aside></aside></a><a class="menu_menu-item__2FGZV" href="/about"><img src="/icons/info.png" alt="info"/> <span>درباره ما</span> <aside></aside></a></nav></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"page":{"slug":"2016-01-05_nix_intro","layout":"post","jdate":"Tue Jan 05 2016 00:00:00 GMT+0000","user":"saaie","title":"مدیر بسته nix مدیر بسته‌ای متفاوت","categories":["آموزشی"],"tags":["nixos","مدیربسته"],"featured":"nixos-logo-only-hires.png","keywords":["nix","مدیربسته nix"],"description":"معرفی مدیربسته nix","timeToRead":5,"content":"\nاگر با توزیع‌های لینوکس کار کرده باشید حتما دیدید که هر کدام یک مدیر بسته نرم‌افزاری (package manager) دارند که برای نصب نرم‌افزار از آن‌ها استفاده می‌کنید (مثل apt-get، yum، pacman، emerge و ...). اما مدیر بسته nix که به صورت پیش‌فرض بر روی NixOS نصب است چیزی فراتر از یک مدیر بسته است. زیرا در توزیع NixOS علاوه بر نصب نرم‌افزار، کار تنظیمات سیستم را نیز بر عهده می‌گیرد.\n\nدر واقع مدیر بسته nix دارای یک زبان nix build language است که یک زبان functional محسوب می‌شود. توسط این زبان تنظیمات سیستم از تنظیمات هسته گرفته تا تنظیمات مربوط به نرم‌افزارهایی مانند openssh، nginx و حتی تنظمیات بوت و گراب همه و همه توسط زبان nix و در فایلی که به اسم configuration.nix هست نوشته می‌شود. این فایل در توزیع NixOS در آدرس `etc/nix/configuration.nix/` وجود دارد، با تغییر دادن این فایل و سپس اجرای دستور زیر کل سیستم بر اساس آن ساخته می‌شود و NixOS بدون در نظر گرفتن اینکه قبلا چه چیزی نصب بوده  و یا چه تنظیماتی بر روی سیستم فعال بوده سیستم جدید را می‌سازد و اگر نرم‌افزاری وجود نداشته باشد آن را نصب می‌کند.\n\n```sh\n$ nixos-rebuild switch\n```\n\nمدیر بسته nix در NixOS تمامی تنظیمات قبلی را نگاه می‌دارد و در صورتی که شما به هر دلیلی پس از انجام تنظیمات جدید، از آن خوشتان نیامد به راحتی و به سرعت می‌توانید تنظیمات را به حالت قبل بازگردانید. این کار توسط دستور زیر انجام می‌گیرد.\n\n```sh\n$ nixos-rebuild switch --rollback\n```\n\nبا این کار در منوی گراب شما تمامی تنظیمات قبل آورده می‌شود و می‌توانید از بین آن‌ها انتخاب کنبد.\n\nعلاوه بر این خصوصیات مدیر بسته nix این امکان را می‌دهد که هر کاربر پروفایل مربوط به خود را داشته باشد که از پروفایل بقیه کاربران مجزاست می‌تواند ورژن‌های مختلفی از یک نرم‌افزار را نسبت به کاربری دیگر داشته باشد. به عبارتی دیگر openssh-4.6 برای پروفایل اول و openssh-5.2 برای پروفایل دوم نصب باشد. اما چنین چیزی چطور ممکن است؟ همان طور که می‌دانید بعد از نصب یک نرم‌افزار در لینوکس دایرکتوری به اسم آن نرم ‌افزار ایجاد می‌شود و اگر ورژن جدید آن نرم‌افزار را نصب کنید ورژن قبلی پاک می‌شود. مدیر بسته nix این مشکل را با قرار دادن یک hashing scheme قبل از اسم نرم‌افزار دایرکتوری با نام یکتا ایجاد می‌کند و در نتیجه دو ورژن مختلف یک نرم‌افزار در یک دایرکتوری قرار نمی‌گیرند و می‌توان در یک سیستم چندین ورژن از یک نرم‌افزار را توسط nix نصب کرد.\n\nعلاوه بر تمامی این خصوصیات nix به صورت portable ساخته شده، به این معنی که شما nix را می‌توانید در تمامی توزیع‌های لینوکس و حتی بر روی MacOSX و با روش‌هایی روی ویندوز و freebsd نیز نصب کنید، زیرا nix کاملا مستقل از سیستم شما عمل می‌کند.\n\nسایت توزیع  [nixos.org](http://nixos.org/)"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"2016-01-05_nix_intro"},"buildId":"igqXl2OPJ05s2tPs4MQMK","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-e893e522365b6e0e5fa4.js"></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.f8bd46fc02868c500bda.js" async=""></script><script src="/_next/static/chunks/dccdaae97238514e0e59f68ff40a3150f2d60869.fd7c33e9ae3c66b740c3.js" async=""></script><script src="/_next/static/chunks/main-3c19994afb449613f52a.js" async=""></script><script src="/_next/static/chunks/c18007ee4e366b206423f37b43f40d4861448257.6ad75590f65d0a64ea61.js" async=""></script><script src="/_next/static/chunks/9f32a1895f4aacf1ea63ff9f71a540b7eb71f721.c3d97f18e04e41235ad9.js" async=""></script><script src="/_next/static/chunks/pages/_app-5e768503c47f0f474cf1.js" async=""></script><script src="/_next/static/chunks/884c0b09aaba7d8da8976f96bae68463b81d3e33.69e17f26dc467dcd1735.js" async=""></script><script src="/_next/static/chunks/755b54d753eea6c310ec0b9a05508d467366a08f.dd8ff6ba50741b700375.js" async=""></script><script src="/_next/static/chunks/6b20a07b2d70cfcb2a9bc7e0210d4109f26bcd0c.6ef66b02a65441044c74.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-8dd97a7322e8b3511971.js" async=""></script><script src="/_next/static/igqXl2OPJ05s2tPs4MQMK/_buildManifest.js" async=""></script><script src="/_next/static/igqXl2OPJ05s2tPs4MQMK/_ssgManifest.js" async=""></script></body></html>