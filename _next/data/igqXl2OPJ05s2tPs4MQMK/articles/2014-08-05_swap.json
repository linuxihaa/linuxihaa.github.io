{"pageProps":{"page":{"slug":"2014-08-05_swap","layout":"post","jdate":"Tue Aug 05 2014 00:00:00 GMT+0000","user":"misam","title":"ایجاد فضای swap","categories":["آموزشی"],"tags":["پیکربندی"],"featured":"swap.jpg","keywords":["فضای swap","swap لینوکس"],"description":"آموزش ایجاد فضای swap","timeToRead":5,"content":"\nسواپ (swap) راه‌کاری در سیستم‌های لینوکس است تا میزان رم کم سیستم جبران شود. در این روش فضایی از هارد دیسک به عنوان سواپ در نظر گرفته می‌شود تا در صورت نیاز به حافظه بیشتر از رم اصلی سیستم، اطلاعات (صفحات حافظه) در این بخش ذخیره و بازیابی شوند.\n\nشما می‌توانید فضای سواپ را یک پارتیشن مخصوص یا یک فایل در نظر بگیرید. با اینکه اکثرا از پارتیشن مخصوص برای این فضا استفاده می‌کنند اما گفته می‌شود فایل سواپ نیز از عهده این کار به خوبی بر می‌آید.\n\nست کردن سواپ روی فایل مزیت‌های خاص خودش را دارد؛ مانند اینکه راحت می‌توان آن را کم، زیاد و یا حذف کرد! و درگیری با پارتیشن‌های هارد نخواهیم داشت.\n\nدر اکثر منابع روش ساخت یک پارتیشن سواپ و ست کردن آن گفته شده است اما کمتر روش ساخت آن با فایل گفته شده است.\n\nخب ما در این آموزش هر دو روش را با هم می‌گوییم!\n\n* تمام دستورات زیر به دسترسی روت نیاز دارند که یا باید با su وارد روت شوید یا از sudo قبل دستورات استفاده کنید.\n\n**مرحله ۱ - ساخت بخشی برای سواپ**\n\nاگر از یک پارتیشن برای سواپ می‌خواهید استفاده کنید در این مرحله با هر برنامه‌ای که می‌توانید این پارتیشن را ایجاد کنید.\n\nاگر می‌خواهید از فایل برای سواپ استفاده کنید دستور زیر را وارد کنید.\n\n```sh\ndd if=/dev/zero of=/swapfile bs=1024 count=524288\n```\n\nدر دستور بالا بعد از of مسیر فایل مورد نظرتان که سواپ روی آن ست می‌شود را می‌نویسیم که من در اینجا فایلی در شاخه اصلی با نام swapfile انتخاب کرده‌ام. جلوی count نیز حجم مورد نیاز برای این فضا را بر حسب کیلوبایت می‌نویسیم که من ۵۱۲ مگابایت (۵۱۲ × ۱۰۲۴) در نظر گرفته‌ام.\n\n* معمولا مقدار فضای سواپ برای سیستم‌هایی با رم کمتر از ۱ گیگابایت، دو برابر ظرفیت رم و برای بالاتر از آن ۲ گیگابایت پیشنهاد می‌شود.\n\n**مرحله ۲ - فرمت کردن بخش سواپ با فرمت سواپ**\n\nاگر از یک پارتیشن استفاده می‌کنید (بجای sdX باید شناسه پارتیشن مورد نظر خودتون رو بنویسید)\n\n```sh\nmkswap /dev/sdX\n```\n\nو اگر از فایل استفاده می‌کنید (بعد از mkswap آدرس فایل رو بنویسید)\n\n```sh\nmkswap /swapfile\n```\n\n**مرحله ۳ - ست کردن سواپ**\n\nاگر از یک پارتیشن استفاده می‌کنید (بجای sdX باید شناسه پارتیشن مورد نظر خودتون رو بنویسید)\n\n```sh\nswapon /dev/sdX\n```\n\nو اگر از فایل استفاده می‌کنید (بعد از mkswap آدرس فایل رو بنویسید)\n\n```sh\nswapon /swapfile\n```\n\n* یادتون باشه که اگه بعدا خواستید این سواپ رو از سیستم بگیرید از دستور swapoff باید استفاده کنید.\n\n**مرحله ۴ - فعال کردن فضای سواپ در هنگام بوت شدن**\n\nاگر از یک پارتیشن استفاده می‌کنید (بجای sdX باید شناسه پارتیشن مورد نظر خودتون رو بنویسید)\n\n```sh\n/dev/sdX swap swap defaults 0 0\n```\n\nو اگر از فایل استفاده می‌کنید (بعد از mkswap آدرس فایل رو بنویسید)\n\n```sh\n/swapfile swap swap defaults 0 0\n```\n\nخب تموم شد! برای دیدن فضاهای سواپ سیستم هم می‌تونید از دستور زیر استفاده کنید\n\n```sh\ncat /proc/swaps\n```"}},"__N_SSG":true}