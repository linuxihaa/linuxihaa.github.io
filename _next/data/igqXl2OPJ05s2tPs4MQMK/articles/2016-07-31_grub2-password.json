{"pageProps":{"page":{"slug":"2016-07-31_grub2-password","layout":"post","jdate":"Sun Jul 31 2016 00:00:00 GMT+0000","user":"rmasoumvand","title":"گذاشتن رمز روی grub2","categories":["آموزشی"],"tags":["حریم‌شخصی","پیکربندی"],"featured":"grub2-password.jpg","keywords":["رمز روی grub2","grub2 password"],"description":"آموزش گذاشتن رمز روی grub2","timeToRead":5,"content":"\nدر مطلب «[بازیابی رمز روت لینوکس](http://linuxihaa.ir/%D8%A8%D8%A7%D8%B2%DB%8C%D8%A7%D8%A8%DB%8C-%D8%B1%D9%85%D8%B2-%D8%B1%D9%88%D8%AA-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3/)» نحوه بازیابی کلمه عبور کاربر ریشه را از طریق تغییر دادن پارامترهای بوت کرنل در گراب توضیح دادیم. برای امنیت بیشتر می‌توانیم آیتم‌های grub2 را توسط رمز عبور محافظت کنیم. در این آموزش به نحوه رمزگذاری دسترسی برای گزینه‌های grub2 خواهیم پرداخت.\n\nابتدا توسط یک ویرایشگر متنی فایل `etc/grub.d/40_custom/` را ویرایش می‌کنیم.\n\n```sh  \nsudo gedit /etc/grub.d/40_custom  \n```\n\nسپس خطوط زیر را به انتهای آن اضافه می‌کنیم.\n\n```  \nset superusers=”USER”  \npassword USER PASSWORD  \n```\n\nکه در اینجا منظور از `USER‍‍‍‍` نام کاربری و `PASSWORD` رمز عبور انتخابی شما است. از آنجایی که در روش فوق رمز عبور کاربر بصورت Clear Text ذخیره می‌شود برای امنیت بیشتر می‌توانیم رمز عبور را رمزگذاری کنیم.\n\nبرای این کار به‌صورت زیر عمل می‌کنیم.\n\nابتدا می‌بایست توسط دستور زیر یک کلمه عبور رمزگذاری شده ایجاد کنیم.\n\n```sh  \ngrub-mkpasswd-pbkdf2  \n```\n\nپس از اجرای دستور فوق از شما رمز عبور مورد نظرتان برای رمزگذاری پرسیده می‌شود و درنهایت نسخه رمزگذاری شده کلمه عبور شما را نمایش می‌دهد.\n\nسپس مجدداً فایل `etc/grub.d/40_custom/` را ویرایش نموده و این بار به‌جای کلمه عبور Clear Text کلمه عبور رمزگذاری شده را به‌صورت زیر وارد نمایید.\n\n```  \npassword USER grub.pbkdf2 ENCRYPTED PASSWORD  \n```\n\nکه در اینجا منظور از `ENCRYPTED PASSWORD` کلمه عبور رمزگذاری تولید شده است.\n\nسپس فایل `etc/grub.d/10_linux/` را با یک ویرایشگر متنی ویرایش می‌کنیم.\n\n```sh  \nsudo gedit /etc/grub.d/10_linux  \n```\n\nو عبارت `unrestricted--` را انتهای خط زیر اضافه می‌کنیم.\n\n``` \nCLASS=\"--class gnu-linux --class gnu --class os --unrestricted\"  \n```\n\nسپس برای اعمال تغییرات دستور زیر را وارد می‌کنیم.\n\n```sh  \nupdate-grub  \n```\n"}},"__N_SSG":true}