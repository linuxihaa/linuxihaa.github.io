{"pageProps":{"page":{"slug":"2014-08-03_ubuntu-edit-system-policy","layout":"post","jdate":"Sun Aug 03 2014 00:00:00 GMT+0000","user":"misam","title":"ویرایش system policy در اوبونتو","categories":["آموزشی"],"tags":["اوبونتو","حریم‌شخصی"],"featured":"system_policy-1.png","keywords":["system policy","system policy اوبونتو"],"description":"آموزش ویرایش system policy در اوبونتو","timeToRead":5,"content":"\nهمان‌طور که می‌دانید در لینوکس تمام کارهایی که امکان دارد به‌گونه‌ای تاثیر روی کل سیستم بگذارد محدود و فقط در دسترس کاربری روت است.\n\nدر مطلب «[sudo چیست؟](http://linuxihaa.ir/sudo)» به این مورد اشاره کردیم و گفتیم با دستوری مانند sudo در رابط خط‌فرمان می‌توان با کاربر عادی به این اعمال دسترسی داشت و در رابط گرافیکی نیز برنامه‌هایی در هر میزکار تعبیه شده‌اند که با نشان دادن کادرهای محاوره‌ای و درخواست رمز عبور، دسترسی به امکانات ممتاز سیستم را امکان پذیر می‌کنند.\n\nبه طور مثال هنگامی که قصد داریم پراکسی سیستم را در اوبونتو تغییر دهیم چون این یک عمل ممتاز در سیستم است کادر محاوره‌ای به شکل زیر باز شده و رمز کاربری را درخواست می‌کند.\n\n![system_policy-1](/images/system_policy-1.png)\n\nمشاهده می‌کنید که سیاست سیستم (system policy) پیغام داده که مانع انجام این کار می‌شود مگر این‌که رمز عبور را وارد کنید تا هویت شما تایید شود.\n\nخب اگر بخواهیم این پیغام‌ها نمایش داده نشود و برخی اعمالی که خودمان می‌دانیم زیاد خطرناک نیستند (همه اعمال را نباید باز گذاشت) را بدون تایید هویت انجام دهیم باید چکار کنیم؟!\n\nاول از همه گزینه Details در کادر را بزنید تا مشخصات این سیاست دیده شود.\n\n![system-policy-2](/images/system-policy-2.png)\n\nنام عملی که سیاست سیستم مانع آن می‌شود جلوی Action نوشته شده است. اکنون شما باید دسترسی به این عمل را برای سیستم به‌گونه‌ای تعریف کنید که دیگر نیاز به تایید هویت نباشد.\n\nدر اینجا عمل com.ubuntu.systemservice.setproxy مورد بحث است که از دسته اعمال com.ubuntu.systemservice است (کافیه بخش آخر را حذف کنیم تا بفهمیم دسته اعمال چیه).\n\nتمام فایل‌های دسته اعمال در/usr/share/polkit-1/actions/ قرار دارند که با نام آن دسته به اضافه .policy همراه شده‌اند.\n\nحالا فایل این دسته اعمال را باز می‌کنیم.\n\n```sh\nsudo gedit /usr/share/polkit-1/actions/com.ubuntu.systemservice.policy\n```\n\nدر فایل باز شده عمل مورد نظر خود را پیدا می‌کنیم (در اینجا setproxy).\n\n![system_policy-3](/images/system_policy-3.png)\n\nخب حالا هر تغییری که دوست داریم روی تگ‌های داخل defaults انجام می‌دهیم. مثلا کافیست به‌جای no در تگ allow_inactive و به‌جای auth_admin_keep در تگ allow_active عبارت yes را بنویسیم (مانند تصویر زیر) تا دیگر برای تغییر پراکسی سیستم نیاز به اهراز هویت نداشته باشیم.\n\n![system_policy-4](/images/system_policy-4.png)\n\n* البته این تغییرات همیشه پیشنهاد نمی‌شود اما در برخی موارد که راحتی به امنیت ارجعیت دارد بسیار سودمند است.\n\n* این مطلب را بعد از خواند مطلبی با عنوان «نصب و حذف برنامه بدون وارد کردن گذرواژه» نوشتم که می‌توانید از آدرس mehdi.wordpress.com/2014/07/18/add-remove-software-without-password مطالعه کنید."}},"__N_SSG":true}