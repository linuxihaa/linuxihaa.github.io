{"pageProps":{"page":{"slug":"2016-01-03_install-ns2","layout":"post","jdate":"Sun Jan 03 2016 00:00:00 GMT+0000","user":"misam","title":"نصب شبیه‌ساز شبکه ns2 از سورس","categories":["آموزشی"],"tags":["نرم‌افزار","شبکه"],"featured":"ns2-nam.png","keywords":["ns2","شبکه ساز شبکه"],"description":"آموزش نصب شبیه‌ساز شبکه ns2 از سورس","timeToRead":5,"content":"\nنرم‌افزار ns یک شبیه‌ساز برای شبکه‌های کامپیوتری با قابلیت پشتیبانی از انواع شبکه‌های سیمی و بی‌سیم است که در نسخه‌های ns2، ns1 و ns3 توسعه و منتشر شده. نسخه‌ی ۱ این شبیه‌ساز خیلی وقت هست که توسعه و نگهداری نمی‌شه. نسخه ۲ هم دیگه توسعه داده نمی‌شه اما به‌خاطر اینکه کدهای زیادی روی اون هست که روی نسخه ۳ اجرا نمیشه؛ هنوز نگهداری و استفاده می‌شه. توی دانشگاه‌ها هم معمولا از ns2 استفاده می‌شه.\n\nاینجا قصد دارم آموزش نصب این نسخه یعنی ns2 رو بذارم.\n\n![ns2-nam](/images/ns2-nam.png)\n\nتصویری از محیط nam، یکی از ابزارهای ns2\n\nاول بگم که این نسخه به‌راحتی از طریق دستور زیر در اوبونتو قابل نصب است اما نمونه‌ها و ابزارهای جانبی باید جدا نصب بشن.\n\n```sh\nsudo apt-get install ns2\n```\n\nیک سری ابزار هم مثل nam که برای نمایش شبیه‌سازی به‌صورت تصویری و xgraph که برای ترسیم نمودار برای خروجی‌های شبیه سازی استفاده می‌شه رو می‌تونید به همین صورت و با نام خودشون نصب کنید.\n\nاما دلیل اصلی نوشتن این پست، آموزش نصب این شبیه‌ساز با سورس‌کد هست که تمام ابزارها و مثال‌ها هم شامل می‌شه و فرقی نمی‌کنه از چه توزیعی استفاده می‌کنید و آیا این موارد توی مخازن هستن یا نه!\n\nابتدا سورس کد ns2 رو از [اینجا](http://sourceforge.net/projects/nsnam/files/latest/download) دریافت کنید. آخرین نسخه این شبیه‌ساز ns2.35 هست که می‌تونید با دستور زیر دریافتش کنید.\n\n```sh\nwget http://nchc.dl.sourceforge.net/project/nsnam/allinone/ns-allinone-2.35/ns-allinone-2.35.tar.gz\n```\n\nو بعدش بسته‌ی فشرده شده را باز کنید.\n\n```sh\ntar -xvzf ns-allinone-2.35.tar.gz\n```\n\nحالا برید تو مسیر ns-allinone-2.35/ns-2.35/linkstate و فایل ls.h رو برای ویرایش باز کنید. مثلا با دستور زیر!\n\n```sh\nnano ns-allinone-2.35/ns-2.35/linkstate/ls.h\n```\n\nتو خط ۱۳۷، یجا نوشته erase(baseMap که باید تغییرش بدید به this->erase(baseMap و فایل رو ذخیره کنید.\n\nبعدش برید تو مسیر ns-allinone-2.35/otcl-1.14 و فایل Makefile.in را برای ویرایش باز کنید. مثلا با دستور زیر!\n\n```sh\nnano ns-allinone-2.35/otcl-1.14/Makefile.in\n```\n\nهمون اولای فایل نوشته @CC@ شما جاش بنویسید gcc-4.4 و فایل رو ذخیره کنید.\n\nقبل ادامه‌ی کار و کمپایل کد باید یک‌سری پیش‌نیازها رو نصب کنید.\n\n```sh\nsudo apt-get install build-essential autoconf automake libxmu-dev gcc-4.4\n```\n\nحالا دستور زیر رو بزنید تا شروع به کمپایل کنه. احتمالا یک ربعی طول بکشه.\n\n```sh\nns-allinone-2.35/install\n```\n\nبعد از اینکه تموم شد می‌تونید فایل‌های اجرایی مثل خود ns و یا nam و xgraph رو از مسیر ns-allinone-2.35/bin اجرا کنید.\n\nبرای استفاده‌ی راحت‌تر می‌تونید مسیر فایل‌های اجرایی رو به پوسته‌ی بش معرفی کنید تا راحت فقط با وارد کردن ns در ترمینال بتونید اجراش کنید. برای این کار ابتدا فایل `bashrc.` خودتون رو باز کنید. مثلا با دستور زیر!\n\n```sh\nnano ~/.bashrc\n```\n\nبعدش خطوط زیر رو به این فایل اضافه کنید (البته جای linuxihaa نام‌کاربری خودتون رو بذارید یا کلا مسیرها آدرس‌هایی باشه که فایل‌های ns رو کمپایل کردید).\n\n```bash\n# ns start\nPATH=$PATH:/home/linuxihaa/ns-allinone-2.35/bin:/home/linuxihaa/ns-allinone-2.35/tcl8.5.10/unix:/home/linuxihaa/ns-allinone-2.35/tk8.5.10/unix\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/linuxihaa/ns-allinone-2.35/otcl-1.14:/home/linuxihaa/ns-allinone-2.35/lib\nTCL_LIBRARY=$TCL_LIBRARY:/home/linuxihaa/ns-allinone-2.35/tcl8.5.10/library\nexport PATH\nexport LD_LIBRARY_PATH\nexport TCL_LIBRARY\n# ns end\n```\n\nبعد از اضافه کردن خطوط هم دستور زیر رو اجرا کنید.\n\n```sh\nsource ~/.bashrc\n```\n\nتموم شد! می‌تونید با وارد کردن ns، محیط خط فرمان این شبیه‌ساز رو مشاهده کنید.\n\nاز [اینجا](http://slogix.in/ns2-training-institute/index.html) هم می‌تونید کلی آموزش و مثال ns2 رو مطالعه کنید."}},"__N_SSG":true}