---
layout: post
jdate: '1392-09-08'
title: نصب Kloxo در CentOS و ردهت
author: میثم ساکی
author_url: http://misam.ir
author_bio: من میثم ساکی هستم؛ برای اطلاعات بیشتر به سایت من سر بزنید
categories:
- آموزشی
tags:
- ردهت 
- centos
- سرور
featured: kloxo-logo.png
keywords:
- kloxo
- کنترل پنل کلکسو
description: آموزش نصب Kloxo در CentOS و ردهت
timeToRead: 5
---

مدیران سرورهای لینوکس غیر از انتخاب یک توزیع مناسب برای راه‌اندازی سرور خود، باید از یک کنترل پنل مناسب برای مدیریت بهتر سرور استفاده کنند. مخصوصا کسانی که نیاز به مدیریت دامنه‌های زیادی دارند، از راه دور سرور خود را مدیریت می‌کنند و اصلی‌ترین استفاده آن که برای مدیریت سرورهای مخصوص میزبانی وب است.

و اما کدام کنترل پنل؟!

شاید بتوان گفت که در حال حاضر بهترین کنترل پنل سرورهای لینوکس سی پنل (cpanel) است که امکانات لازم را با رابط کاربری مناسب و در محیطی امن در اختیار ما می‌گذارد و بعد از آن می‌توان از کنترل پنل DirectAdmin نام برد.

اما کنترل‌پنل‌هایی که در بالا ذکر شد نیاز به پرداخت هزینه ماهانه تقریبا زیادی دارند که شاید برای افرادی به صرفه نباشد. مانند کسانی که نیاز به مدیریت گسترده ندارند و چند سایت یا چند سرویس مشخص را روی سرور خود دارند و یا امکان پرداخت هزینه را ندارند.

![](/images/Kloxo6.1.0-high.png)

در این پست قصد دارم کنترل پنل رایگان کلکسو (Kloxo) را به شما معرفی کنم که برای مدیریت سرور و مخصوصا میزبان‌های وب مناسب است. این کنترل پنل محصول LxCenter است که از دیگر محصولات آن HyperVM است که برای مدیریت سرورهای مجازی شده استفاده می‌شود.

شاید بتوان گفت که کلکسو یکی از بهترین کنترل پنل‌های رایگان است که بسیار به کاربران پیشنهاد می‌شود و امکانات، رابط کاربری و امنیت نسبتا خوبی را دارد. کلکسو آمده است که یک کنترل پنل رایگان و مناسب را برای مدیریت میزبان وب شما در اختیارتان قرار دهد که این مساله در بیشتر کنترل پنل‌های رایگان وجود ندارد و امکانات کمی برای مدیریت میزبانی وب دارند و بیشتر می‌توانید چند سایت (مخصوص سرورهای شخصی) را مدیریت کنید.

برای آشنایی با امکانات کلکسو می‌توانید دمو آن را از این آدرس مشاهده کنید. demo.kloxo.com:7778

اکنون برویم سراغ آموزش نصب کلکسو. (منبع wiki.lxcenter.org/Kloxo+Installation+Guide)

**پیش‌نیازها**

1.  سرور خصوصی یا مجازی با سیستم‌عامل CentOS حداکثر نسخه 5 و یا >Red Hat EL. هنوز سنت-او-اس ۶ پشتیبانی نمی‌شود.
2.  حداقل ۲۵۶ مگابایت رم (برای اجرای Yum کافی باشد). [البته تجربه شخصی من نشان می‌دهد حداقل باید ۵۱۲ مگابایت رم داشته باشید و برای استفاده مناسب ۱ گیگ رم پیشنهاد می‌شود.]
3.  مقدار ۲ گیگ فضا دیسک برای نصب کلکسو و سرویس‌ها.
4.  اگر به صورت دستی دیسک خود را پارتیشن‌بندی کرده‌اید مطمئن شوید شاخه /tmp بزرگی دارید. کلکسو از این شاخه برای ذخیره بک‌آپ استفاده می‌کند و اگر فضا آن کافی نباشد این عمل درست انجام نمی‌شود.

**قبل از شروع**

شما باید SELinux را غیرفعال کنید. برای این کار باید فایل `/etc/sysconfig/selinux` را باز کرده و خط مشخص را به این صورت تغییر دهید selinux=disabled. این تغییر SELinux را از شروع بعدی سیستم بعد از ریبوت فعال نگه می‌دارد و فقط برای این است که در سیشن فعلی که ما قصد داریم کلکسو را نصب کنیم بتوانیم آن را غیرفعال کنیم.

برای غیر فعال کردن SELinux در نشست جاری از دستورات زیر در خط فرمان استفاده کنید.

```sh
su - rootsetenforce 0
```

اگر مطمئن نیستید که این عمل درست انجام شده برای چک کردن وضعیت از دستور _/usr/sbin/sestatus_ استفاده کنید.** عدم غیرفعال کردن صحیح SELinux باعث می‌شود نصب کلکسو بی‌فایده شود و راه‌اندازی مجدد سیستم‌عامل ممکن است نیاز به نصب درست دوباره آن داشته باشد.**

همچنین مطمئن شوید که پورت‌های 7777/tcp و 7778/tcp در فایروال سرور شما باز هستند. اگر این پورت‌ها بسته باشند شما نمی‌توانید به صفحه وب کنترل پنل کلکسو بعد از نصب آن دسترسی داشته باشید.

**نصب کلکسو**

نصب کلکسو نیاز به دریافت فایل kloxo-installer.sh از download.lxcenter.org و اجرای آن توسط کاربر روت دارد. این اسکریپ در طول اجرا برای نصب کلکسو از شما چند سوال می‌پرسد و گذرواژه‌ای درخواست می‌کند (رمز روت را وارد کنید).

```sh
su - rootyum install -y wgetwget http://download.lxcenter.org/download/kloxo/production/kloxo-installer.sh
```

بعد از آن دستور زیر برای نصب به صورت مستر (تک سروری) وارد کنید.

```sh
sh ./kloxo-installer.sh --type=master
```

و اگر مستر نیستید از دستور زیر استفاده کنید.

```sh
sh ./kloxo-installer.sh --type=slave
```

اگر قبلا MySQL را روی سرور خود نصب کرده‌اید از دستورات زیر استفاده کنید.

```sh
su - root
yum install -y wget
wget http://download.lxcenter.org/download/kloxo/production/kloxo-installer.sh
sh ./kloxo-installer.sh --type=<master/slave> --db-rootpassword=PASSWORD
```

بعد از نصب کلکسو به آدرس http://YOUR_SERVER_IP:7778 متصل شوید (در مرورگر وارد کنید) و در صفحه ورود نام کاربری admin و پسورد پیش‌فرض که admin است را واد کنید. بعد از ورود کلکسو از شما می‌خواهد که برای امنیت بیشتر رمز پیش‌فرض را تغییر دهید.

**بسته‌های نصب شده اولیه**

*   سرویس‌های وب Web Services
    *   آپاچی apache 2.x
    *   پی‌اچ‌پی php 5.2.x
    *   سرویس pure-ftpd برای مدیریت کاربران اف تی پی (ftp)
    *   سرویس awstats برای تحلیل آمار وب (بازیدها، ترافیک و ...)

*   سرویس‌های پست الکترونیک Mail Services
    *   سرویس qmail-toaster
    *   سرویس courier-imap-toaster
    *   سرویس vpopmail
    *   برنامه‌های وب میل Roundcube (به صورت اجکس) و Horde برای مدیریت پست‌های الکترونیک

*   سرویس‌های نام‌دامنه DNS Services
    *   سرویس bind برای پیاده سازی پروتکل DNS
    *   سرویس bind-chroot برای BIND امن
*   سرویس دیتابیس Database Service
    *   برنامه mysql-server برای ساخت و مدیریت دیتابیس‌ها

* شما می‌توانید بعد از نصب بین سرویس‌ها سوییچ کنید و یکی را انتخاب کنید. مانند؛  Apache/Lighttpd، BIND/djbdns، spamassassin/bogofilter و ... .

**عیب‌یابی**

اگر بعد از نصب نتوانستید به کنترل پنل کلکسو متصل شوید، مطمئن شوید که فایروال سرور پورت‌های ذکر شده را نبسته باشد. اگر این پورت‌ها بسته بود می‌توانید فایروال را با دستور /etc/init.d/iptables stop غیرفعال کنید و با انجام آن شاید بخواهید اسکریپ فایروالی برای کاربران خود بسازید تا امنیت خود را حفظ کنید. برای این کار می‌توانید از آموزش آخر مطلب استفاده کنید.

با همه این موارد اگر نتوانستید به پنل دسترسی داشته باشید و یا هر مشکل دیگری داشتید می‌توانید در انجمن کلکسو با آدرس forum.lxcenter.org مطرح کنید تا پاسخ بگیرید (محتوای فایل /root/kloxo-install/kloxo-linux/kloxo_install.log را برای راهنمایی بهتر به سوال خود پیوست کنید).

**ملاحظات نهایی**

ط

**ساخت اسکریپ فایروال برای کاربران خود - چگونه کلکسو را با جدول آی‌پی ایمن کنیم**

ط